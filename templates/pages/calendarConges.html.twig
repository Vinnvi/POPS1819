{% extends 'topBar.html.twig' %}
{% block title %} Calendrier de Congés {% endblock %}
{% block head %}
  {% block javascripts %}
    <!-- <script src="js/vendor/modernizr-2.6.2.min.js"></script> -->
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js" type="text/javascript"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript"></script>
    <!-- <script src="js/plugins/chartist-js/chartist.min.js" type="text/javascript" ></script> -->
    <script src='js/plugins/fullcalendar/lib/moment.min.js' type="text/javascript"></script>
    <script src='js/plugins/fullcalendar/js/fullcalendar.min.js' type="text/javascript"></script>
    <script src="js/plugins/fullcalendar/fullcalendar-script.js" type="text/javascript"></script>
    <script>
      $(document).ready(function() {
        //initialize all modals
        $('.modal').modal();
      });
    </script>
    <!-- Script for DatePickers -->
    <script>
      $(document).ready(function(){
        $('.datepicker').datepicker();
      });
    </script>
    <!-- Script for select Input -->
    <script>
      $(document).ready(function(){
        $('select').formSelect();
      });
    </script>
    <script>
    function form_submit() {
      document.getElementById("formConge").submit();
    }
    </script>
    {% endblock %}
    {% block stylesheets %}
    <link rel="stylesheet" type="text/css" href="/css/topBar.css">
    <link rel="stylesheet" type="text/css" href="/css/calendarConges.css">
    <link rel="stylesheet" type="text/css" href="/css/loader.css">
    <link rel="stylesheet" type="text/css" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
    <!-- <link href="js/plugins/chartist-js/chartist.min.css" type="text/css" rel="stylesheet"> -->
    <link rel="stylesheet" href="js/plugins/fullcalendar/css/fullcalendar.min.css" type="text/css">
  {% endblock %}
{% endblock %}
{% block body %}
  <div id="main">
    <div class="wrapper">
      <section id="content">
        <!--start container-->
        <div class="container">
          <div class="section">
            <!-- Page entiere -->
            <div id="full-calendar">
              <div class="row">
                <!-- Left part -->
                <div class="col s12 m3 l2">
                  <div id="external-events">
                    <h4 class="header"><font color="white">Draggable Events</font></h4>
                    <div class="fc-event cyan ui-draggable ui-draggable-handle">Factures Mai</div>
                    <div class="fc-event teal ui-draggable ui-draggable-handle">Appeler Valérie</div>
                    <div class="fc-event cyan darken-1 ui-draggable ui-draggable-handle">Dinner avec l'équipe</div>
                    <div class="fc-event cyan accent-4 ui-draggable ui-draggable-handle">Meeting avec la Support Team</div>
                    <div class="fc-event teal accent-4 ui-draggable ui-draggable-handle">Demander Augmentation</div>
                    <div class="fc-event light-blue accent-3 ui-draggable ui-draggable-handle">Design iOS App</div>
                    <div class="fc-event light-blue accent-4 ui-draggable ui-draggable-handle">Oummar&Co Party</div>
                    <p>
                      <input type="checkbox" id="drop-remove">
                      <label for="drop-remove">remove after drop</label>
                    </p>
                  </div>
                </div>
                <!-- Calendrier -->
                <div id="mainCalendar" class="col s12 m6 l7">
                  <div id="calendar" class="fc fc-ltr fc-unthemed">

                  </div>
                  <!-- Table donnees -->
                  <div id="rowTable">
                    <table class="striped">
                      <thead>
                        <tr id="rowCongesBottom">
                          <th data-field="id">Nom</th>
                          <th data-field="name">Date Début</th>
                          <th data-field="price">Date Fin</th>
                          <th data-field="price">Statut</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr id="dataBottom">
                          <td>Valérie Guimard</td>
                          <td>08.12.18 matin</td>
                          <td>09.12.18 soir</td>
                          <td>Validé</td>
                        </tr>
                        <tr id="dataBottom">
                          <td>Frédéric Voisin</td>
                          <td>10.12.18 matin</td>
                          <td>15.12.18 soir</td>
                          <td>Validé</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <!-- Right part -->
                <div id="rightPart" class="col s12 m3 l3">
                  <div class="row">
                    <div id="rttPart" class="col s1 m1 l1">
                      <h5 class="header">RTT :</h5>
                      <h10 class="header"> {{app.user.rtt}} </h10>
                      <h6 class="header"> jours restants </h6>
                    </div>
                    <div id="congePart" class="col s1 m1 l1">
                      <div class="row">
                        <h5 class="header">Congés payés :</h5>
                        <h10 class="header"> {{app.user.conge}} </h10>
                        <h6 class="header"> jours restants </h6>
                      </div>
                    </div>
                  </div>
                  <div id="btnConge" class="row">
                    <div class="col s12 m12 l12">
                        <a class="waves-effect waves-light btn" onclick="$('#demandeConge').modal('open');">Poser un congé</a>
                    </div>
                  </div>
                  <div class="row">
                    <table id="data-table-row-grouping" class="display dataTable" cellspacing="0" width="100%" role="grid" aria-describedby="data-table-row-grouping_info" style="width: 100%;">
                      <thead>
                          <tr id="rowCongesRight" role="row">
                            <th class="sorting" tabindex="0" aria-controls="data-table-row-grouping" rowspan="1" colspan="1" aria-label="Name: activate to sort column ascending" style="width: 49px;">Type</th>
                            <th class="sorting" tabindex="0" aria-controls="data-table-row-grouping" rowspan="1" colspan="1" aria-label="Start date: activate to sort column ascending" style="width: 59px;">Du-</th>
                            <th class="sorting" tabindex="0" aria-controls="data-table-row-grouping" rowspan="1" colspan="1" aria-label="Start date: activate to sort column ascending" style="width: 59px;">Au-</th>
                            <th class="sorting" tabindex="0" aria-controls="data-table-row-grouping" rowspan="1" colspan="1" aria-label="Position: activate to sort column ascending" style="width: 52px;">Statut</th>
                          </tr>
                      </thead>
                      <tbody>
                        <tr id="dataBottom" role="row" class="odd">
                          <td>RTT</td>
                          <td>08.10.18</td>
                          <td>10.10.18</td>
                          <td>En cours</td>
                        </tr>
                        <tr id="dataBottom" role="row" class="even">
                          <td>C.P.</td>
                          <td>18.10.18</td>
                          <td>23.10.18</td>
                          <td>Validé</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
              <!-- end first row !-->
            </div>
          </div>
        </div>
        <!--end container-->
      </section>
      <!-- END CONTENT -->
    </div>
    <!-- END WRAPPER -->
  </div>

  <!-- modal for asking conge -->
  <!-- Modal Structure -->
  <div id="demandeConge" class="modal">
    <div class="modal-content teal lighten-2">
      <h4><b>Poser un Congé</b></h4>
      <div class="container">
        <form method="POST" id="formConge" action="{{path('modif.demandeConge')}}" class="white">
          <div id="marginModal">
            <div class="select-wrapper">
              <select class="initialized">
                <option value="" disabled="" selected=""> RTT ou Congé ?</option>
                <option value="1">RTT</option>
                <option value="2">Conge</option>
              </select>
            </div>
            <h5>Date et durée du congé</h5>
            <div id="container">
              <div class="row">
                <div class="input-field col s6 m6 l6">
                  <input id="dateDebutConge" type="text" class="datepicker" placeholder="Indiquez la date de début">
                  </div>
                <div class="input-field col s6 m6 l6">
                  <select class="initialized">
                    <option id="timeCongeDebut" value="" disabled="" selected="">Matin ou Après-Midi?</option>
                    <option value="1">Matin</option>
                    <option value="2">Après-Midi</option>
                  </select>
                </div>
              </div>
              <div class="row">
                <div class="input-field col s6 m6 l6">
                  <input id="dateFinConge" type="text" class="datepicker" placeholder="Indiquez la date de Fin">
                  </div>
                <div class="input-field col s6 m6 l6">
                  <select id ="timeCongeFin"class="initialized">
                    <option value="" disabled="" selected="">Matin ou Après-Midi?</option>
                    <option value="1">Matin</option>
                    <option value="2">Après-Midi</option>
                  </select>
                </div>
              </div>
            </div>
            <!-- End Container -->
          </div>
          <!-- End Modal Content -->
          <div class="modal-footer">
            <a href="#!" class="modal-close waves-effect waves-green btn-flat">
              <i class="material-icons left">clear</i>Annuler
            </a>
            <button onclick="form_submit()" class="btn btn-primary">Enregistrer
              <i class="material-icons right">check</i>
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
{% endblock %}
